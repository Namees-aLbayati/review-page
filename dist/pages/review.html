<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/style2.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <title>Namees ExpressJS</title>
<style>
  button {
    background-color: #4CAF50; /* Green */
    border: none;
    color: white;
    padding: 16px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
    transition-duration: 0.4s;
    cursor: pointer;
  }
</style>
  </head>
<body style="background: rgb(36,2,0);
background: linear-gradient(90deg, rgba(36,2,0,1) 0%, rgba(121,103,9,1) 68%, rgba(0,212,255,1) 100%);" >

   
<h2 id="fh2" style="text-align: center;color:#22c1c3">WE APPRECIATE YOUR REVIEW!</h2>
<h6 id="fh6" class="text-center" style="text-align: center;color:#22c1c3">Your review will help us to improve my website thoughts.</h6>


<form id="feedback" style="position:relative;left:200px;top:100px;color:#22c3b8">
  <div class="pinfo">Project Name</div>
  
<div class="form-group">
  <div class="col-md-4 inputGroupContainer mb-4">
  <div class="input-group">
  <span class="input-group-addon"><i class="fa fa-user"></i></span>
  <input  name="name" id="nameId" placeholder="movie tracker" class="form-control"  type="text">
    </div>
  </div>
</div>

<div class="form-group">
  <div class="col-md-4 inputGroupContainer mb-4">
  <div class="input-group">
  <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
    <input name="email" id="emailId" type="email" class="form-control" placeholder="namees.moh@yahoo.com">
     </div>
  </div>
</div>


 <div class="pinfo">Rate my overall projects and website.</div>
  

<div class="form-group">
  <div class="col-md-4 inputGroupContainer">
  <div class="input-group">
  <span class="input-group-addon"><i class="fa fa-heart"></i></span>
   <select class="form-control" id="rateId">
      <option value="1star">1</option>
      <option value="2stars">2</option>
      <option value="3stars">3</option>
      <option value="4stars">4</option>
      <option value="5stars">5</option>
    </select>
    </div>
  </div>
</div>

 <div class="pinfo">Write your feedback.</div>
  

<div class="form-group">
  <div class="col-md-4 inputGroupContainer mb-4">
  <div class="input-group">
  <span class="input-group-addon"><i class="fa fa-pencil"></i></span>
  <textarea class="form-control" id="reviewId" rows="3"></textarea>
 
    </div>
  </div>
</div>

 <button type="submit" id="submitId" class="btn btn-primary" style="position:relative;left:100px">Submit</button>
 
 <a href="/" style="position:relative;top:100px; left:26px">Go Back</a>


</form>
</section>
<script>
  const nameEl=document.getElementById('nameId');
const emailEl=document.getElementById('emailId');
const reviewEl=document.getElementById('reviewId');
const rateEl=document.getElementById('rateId');




const fetchData=(data)=>
    fetch('/api',{
        method:'POST',
        headers:{
            'Content-Type': 'application/json',
        },
        body:JSON.stringify(data),

    }).then((res)=>{
 return res.json()}).then((data)=>{
return data}).catch((err)=>{
    throw err
})

document.getElementById('submitId').addEventListener('click',(e)=>{
   e.preventDefault()
    var userData={
        name:nameEl.value.trim(),
        email:emailEl.value.trim(),
        rate:rateEl.value.trim(),
        review:reviewEl.value.trim()

    }
  fetchData(userData).then((d)=>{
    console.log(d.id)
window.alert(`ID: ${d.id} has been added to your review,your review will be so helpful to improve our products!!!Thanks! `)  }).catch((err)=>{
    console.log(err)
  })


})
</script>
    
</body>
</html>